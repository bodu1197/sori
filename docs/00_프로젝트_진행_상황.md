# ğŸ“‹ MusicGram í”„ë¡œì íŠ¸ ì§„í–‰ ìƒí™©

> **ìµœì¢… ì—…ë°ì´íŠ¸:** 2024ë…„ 12ì›” 20ì¼
> **ì„¸ì…˜ ìš”ì•½:** ë°±ì—”ë“œ ë°°í¬ ì™„ë£Œ, í”„ë¡ íŠ¸ì—”ë“œ ê¸°ë³¸ UI ì™„ì„±

---

## âœ… ì™„ë£Œëœ ì‘ì—… (100%)

### 1ï¸âƒ£ ë°±ì—”ë“œ API (Cloud Run)

- **ìƒíƒœ:** âœ… ë°°í¬ ì™„ë£Œ & ì‘ë™ ì¤‘
- **URL:** `https://musicgram-api-89748215794.us-central1.run.app`
- **ê¸°ìˆ :** FastAPI + Python + ytmusicapi
- **ë¦¬ì „:** us-central1 (ë¯¸êµ­ ì¤‘ë¶€)

### 2ï¸âƒ£ ìºì‹± ì‹œìŠ¤í…œ (Upstash Redis)

- **ìƒíƒœ:** âœ… ì—°ê²° ì™„ë£Œ
- **ë°ì´í„°ë² ì´ìŠ¤:** musicgram-cache
- **ë¦¬ì „:** us-central1 (Google Cloud)
- **REDIS_URL:** í™˜ê²½ë³€ìˆ˜ë¡œ Cloud Runì— ì„¤ì •ë¨

### 3ï¸âƒ£ í”„ë¡ íŠ¸ì—”ë“œ ê¸°ë³¸ UI

- **ìƒíƒœ:** âœ… ê¸°ë³¸ êµ¬ì¡° ì™„ì„±
- **ê¸°ìˆ :** React + Vite + Tailwind CSS
- **ìœ„ì¹˜:** `c:\Users\ohyus\sori\frontend`
- **ì–¸ì–´:** ì˜ì–´ (ê¸°ë³¸)

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
c:\Users\ohyus\sori\
â”‚
â”œâ”€â”€ ğŸ“ backend/                    # ë°±ì—”ë“œ API
â”‚   â”œâ”€â”€ main.py                   # FastAPI ì•± (ë©”ì¸)
â”‚   â”œâ”€â”€ requirements.txt          # Python íŒ¨í‚¤ì§€
â”‚   â”œâ”€â”€ Dockerfile               # Docker ì„¤ì •
â”‚   â””â”€â”€ .dockerignore            # Docker ì œì™¸ íŒŒì¼
â”‚
â”œâ”€â”€ ğŸ“ frontend/                   # í”„ë¡ íŠ¸ì—”ë“œ (React)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.jsx              # ë©”ì¸ ì•± ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ index.css            # Tailwind + ì»¤ìŠ¤í…€ ìŠ¤íƒ€ì¼
â”‚   â”‚   â””â”€â”€ main.jsx             # ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.js           # Vite + Tailwind ì„¤ì •
â”‚
â”œâ”€â”€ ğŸ“ docs/                       # ë¬¸ì„œ
â”‚   â”œâ”€â”€ 01_ì•„í‚¤í…ì²˜_ê°œìš”.md
â”‚   â”œâ”€â”€ 02_ytmusicapi_ê°€ì´ë“œ.md
â”‚   â”œâ”€â”€ 03_í™•ì¥ì„±_ì„¤ê³„.md
â”‚   â”œâ”€â”€ 04_êµ­ê°€ë³„_ì½˜í…ì¸ .md
â”‚   â”œâ”€â”€ 05_ì‚¬ì „ì¤€ë¹„_ì²´í¬ë¦¬ìŠ¤íŠ¸.md
â”‚   â”œâ”€â”€ 06_Google_Cloud_Run_ì„¤ì •.md
â”‚   â””â”€â”€ 07_API_ë°°í¬_ì •ë³´.md
â”‚
â””â”€â”€ .env.example                   # í™˜ê²½ë³€ìˆ˜ í…œí”Œë¦¿
```

---

## ğŸ”‘ ì¤‘ìš” ì •ë³´ (ë‹¤ìŒ ì„¸ì…˜ìš©)

### Google Cloud

```
í”„ë¡œì íŠ¸ ID: musicgram-api
ê²°ì œ ê³„ì •: 019F63-7D53DA-633FDD
ë¦¬ì „: us-central1
```

### API ì—”ë“œí¬ì¸íŠ¸

```
Base URL: https://musicgram-api-89748215794.us-central1.run.app

GET /                    # ì„œë¹„ìŠ¤ ìƒíƒœ
GET /health              # í—¬ìŠ¤ ì²´í¬ + Redis ìƒíƒœ
GET /api/search?q=BTS    # ìŒì•… ê²€ìƒ‰
GET /api/charts?country=US    # êµ­ê°€ë³„ ì°¨íŠ¸
GET /api/new-albums?country=US  # ì‹ ê·œ ì•¨ë²”
GET /api/artist/{id}     # ì•„í‹°ìŠ¤íŠ¸ ì •ë³´
GET /api/album/{id}      # ì•¨ë²” ì •ë³´
```

### Upstash Redis

```
Database: musicgram-cache
Region: us-central1 (GCP)
URL: rediss://default:AY_XAAIncDE0ZGZmNjAyYTRiZWM0ZGY4OGQ3Y2Q5NjUxOWRkMGU4ZnAxMzY4MjM@innocent-cod-36823.upstash.io:6379
```

### í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ì„œë²„

```
URL: http://localhost:5173
ì‹¤í–‰: cd frontend && npm run dev
```

---

## ğŸš€ ë‹¤ìŒ ì„¸ì…˜ì—ì„œ í•  ì¼

### ìš°ì„ ìˆœìœ„ 1: í”„ë¡ íŠ¸ì—”ë“œ ì™„ì„±

- [ ] Supabase ì¸ì¦ ì—°ë™ (ë¡œê·¸ì¸/íšŒì›ê°€ì…)
- [ ] í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ìƒì„± ê¸°ëŠ¥
- [ ] ì‚¬ìš©ì í”„ë¡œí•„ í˜ì´ì§€
- [ ] YouTube í”Œë ˆì´ì–´ í†µí•©

### ìš°ì„ ìˆœìœ„ 2: ë°ì´í„°ë² ì´ìŠ¤

- [ ] Supabase í”„ë¡œì íŠ¸ ìƒì„±
- [ ] í…Œì´ë¸” ìƒì„± (profiles, posts, follows, likes, comments)
- [ ] RLS ì •ì±… ì„¤ì •

### ìš°ì„ ìˆœìœ„ 3: ë°°í¬

- [ ] í”„ë¡ íŠ¸ì—”ë“œ Vercel ë°°í¬
- [ ] Cloudflare CDN ì—°ê²°
- [ ] ì»¤ìŠ¤í…€ ë„ë©”ì¸ ì„¤ì •

---

## ğŸ› ï¸ ê°œë°œ í™˜ê²½ ëª…ë ¹ì–´

### í”„ë¡ íŠ¸ì—”ë“œ ì‹¤í–‰

```powershell
cd c:\Users\ohyus\sori\frontend
npm run dev
# â†’ http://localhost:5173
```

### ë°±ì—”ë“œ ë¡œì»¬ í…ŒìŠ¤íŠ¸

```powershell
cd c:\Users\ohyus\sori\backend
pip install -r requirements.txt
python main.py
# â†’ http://localhost:8080
```

### Docker ë¹Œë“œ & ë°°í¬

```powershell
cd c:\Users\ohyus\sori\backend

# ì´ë¯¸ì§€ ë¹Œë“œ
docker build -t musicgram-api .

# íƒœê·¸
docker tag musicgram-api gcr.io/musicgram-api/musicgram-api:latest

# í‘¸ì‹œ
docker push gcr.io/musicgram-api/musicgram-api:latest

# ë°°í¬
gcloud run deploy musicgram-api --image gcr.io/musicgram-api/musicgram-api:latest --platform managed --region us-central1 --project musicgram-api
```

### API í…ŒìŠ¤íŠ¸

```powershell
# í—¬ìŠ¤ ì²´í¬
Invoke-RestMethod -Uri "https://musicgram-api-89748215794.us-central1.run.app/health"

# ê²€ìƒ‰
Invoke-RestMethod -Uri "https://musicgram-api-89748215794.us-central1.run.app/api/search?q=BTS"
```

---

## ğŸ“Š í˜„ì¬ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ì‚¬ìš©ì (ì „ ì„¸ê³„)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Cloudflare (CDN) - ì˜ˆì •                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â–¼                                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Vercel (ì˜ˆì •)      â”‚                 â”‚  Cloud Run              â”‚
â”‚  í”„ë¡ íŠ¸ì—”ë“œ         â”‚                 â”‚  ë°±ì—”ë“œ API             â”‚
â”‚  React + Vite       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  FastAPI + Python       â”‚
â”‚                     â”‚                 â”‚  âœ… ë°°í¬ ì™„ë£Œ           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                    â”‚
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â–¼                               â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚  Upstash Redis      â”‚         â”‚  Supabase (ì˜ˆì •)    â”‚
                        â”‚  ìºì‹œ               â”‚         â”‚  ë°ì´í„°ë² ì´ìŠ¤       â”‚
                        â”‚  âœ… ì—°ê²° ì™„ë£Œ       â”‚         â”‚  ì¸ì¦               â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ ê¸°ì–µí•  ì‚¬í•­

1. **ëª¨ë“  UI í…ìŠ¤íŠ¸ëŠ” ì˜ì–´ ê¸°ë³¸**
2. **200ë§Œ DAU ëŒ€ì‘ ì„¤ê³„** (Redis ìºì‹± í•„ìˆ˜)
3. **êµ­ê°€ë³„ ì½˜í…ì¸  ì§€ì›** (US, KR, JP, GB)
4. **ytmusicapi ë¹„ì¸ì¦ ëª¨ë“œ ì‚¬ìš©** (ê°œì¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì ‘ê·¼ ì•ˆ í•¨)

---

## ğŸ”— ê´€ë ¨ ë§í¬

- **Cloud Run ì½˜ì†”:** https://console.cloud.google.com/run?project=musicgram-api
- **Upstash ì½˜ì†”:** https://console.upstash.com
- **í”„ë¡œì íŠ¸ í´ë”:** `c:\Users\ohyus\sori`
