# ğŸ“‹ ì‚¬ì „ ì¤€ë¹„ ì²´í¬ë¦¬ìŠ¤íŠ¸

> MusicGram ê°œë°œ ì‹œì‘ ì „ í•„ìˆ˜ ì¤€ë¹„ì‚¬í•­

---

## ğŸ–¥ï¸ ë¡œì»¬ í™˜ê²½ ì„¤ì¹˜

| í•­ëª©    | ë²„ì „  | ë‹¤ìš´ë¡œë“œ                                               | ìƒíƒœ |
| ------- | ----- | ------------------------------------------------------ | :--: |
| Python  | 3.10+ | [python.org](https://python.org)                       | [ ]  |
| Node.js | 18+   | [nodejs.org](https://nodejs.org)                       | [ ]  |
| Git     | ìµœì‹   | [git-scm.com](https://git-scm.com)                     | [ ]  |
| VS Code | ìµœì‹   | [code.visualstudio.com](https://code.visualstudio.com) | [ ]  |

---

## ğŸ”‘ ê³„ì • ìƒì„±

| ì„œë¹„ìŠ¤     | URL                                      | ìš©ë„                | ë¹„ìš©  | ìƒíƒœ |
| ---------- | ---------------------------------------- | ------------------- | :---: | :--: |
| GitHub     | [github.com](https://github.com)         | ì†ŒìŠ¤ ì½”ë“œ ê´€ë¦¬      | ë¬´ë£Œ  | [ ]  |
| Supabase   | [supabase.com](https://supabase.com)     | DB + ì¸ì¦ + Storage | ë¬´ë£Œ  | [ ]  |
| Vercel     | [vercel.com](https://vercel.com)         | í”„ë¡ íŠ¸ì—”ë“œ ë°°í¬     | ë¬´ë£Œ  | [ ]  |
| Railway    | [railway.app](https://railway.app)       | ë°±ì—”ë“œ ë°°í¬ (ì´ˆê¸°)  | $5/ì›” | [ ]  |
| Fly.io     | [fly.io](https://fly.io)                 | ë°±ì—”ë“œ ë°°í¬ (í™•ì¥)  | ë¬´ë£Œ+ | [ ]  |
| Upstash    | [upstash.com](https://upstash.com)       | Redis ìºì‹œ          | ë¬´ë£Œ  | [ ]  |
| Cloudflare | [cloudflare.com](https://cloudflare.com) | CDN + ë³´ì•ˆ          | ë¬´ë£Œ  | [ ]  |

---

## ğŸ—„ï¸ Supabase ì„¤ì •

### í”„ë¡œì íŠ¸ ìƒì„± í›„ í•  ì¼:

- [ ] ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±
- [ ] API í‚¤ ë³µì‚¬ (anon key, service role key)
- [ ] URL ë³µì‚¬
- [ ] ì•„ë˜ í…Œì´ë¸” ìƒì„±

### ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”

```sql
-- 1. profiles (ì‚¬ìš©ì í”„ë¡œí•„)
CREATE TABLE profiles (
    id UUID REFERENCES auth.users PRIMARY KEY,
    username TEXT UNIQUE NOT NULL,
    display_name TEXT,
    bio TEXT,
    avatar_url TEXT,
    country_code VARCHAR(2) DEFAULT 'US',
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

-- 2. posts (í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ê²Œì‹œë¬¼)
CREATE TABLE posts (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID REFERENCES profiles(id) NOT NULL,
    title TEXT NOT NULL,
    description TEXT,
    cover_image_url TEXT,
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

-- 3. post_tracks (í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ê³¡ ëª©ë¡)
CREATE TABLE post_tracks (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    post_id UUID REFERENCES posts(id) ON DELETE CASCADE,
    video_id TEXT NOT NULL,
    title TEXT NOT NULL,
    artist TEXT,
    thumbnail_url TEXT,
    position INTEGER NOT NULL
);

-- 4. follows (íŒ”ë¡œìš° ê´€ê³„)
CREATE TABLE follows (
    follower_id UUID REFERENCES profiles(id),
    following_id UUID REFERENCES profiles(id),
    created_at TIMESTAMP DEFAULT NOW(),
    PRIMARY KEY (follower_id, following_id)
);

-- 5. likes (ì¢‹ì•„ìš”)
CREATE TABLE likes (
    user_id UUID REFERENCES profiles(id),
    post_id UUID REFERENCES posts(id) ON DELETE CASCADE,
    created_at TIMESTAMP DEFAULT NOW(),
    PRIMARY KEY (user_id, post_id)
);

-- 6. comments (ëŒ“ê¸€)
CREATE TABLE comments (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID REFERENCES profiles(id),
    post_id UUID REFERENCES posts(id) ON DELETE CASCADE,
    content TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT NOW()
);

-- 7. songs (ìŒì•… ë©”íƒ€ë°ì´í„° ìºì‹œ)
CREATE TABLE songs (
    video_id TEXT PRIMARY KEY,
    title TEXT NOT NULL,
    artist TEXT,
    album TEXT,
    thumbnail_url TEXT,
    cached_at TIMESTAMP DEFAULT NOW()
);
```

### RLS ì •ì±… ì„¤ì •

```sql
-- RLS í™œì„±í™”
ALTER TABLE profiles ENABLE ROW LEVEL SECURITY;
ALTER TABLE posts ENABLE ROW LEVEL SECURITY;
ALTER TABLE post_tracks ENABLE ROW LEVEL SECURITY;
ALTER TABLE follows ENABLE ROW LEVEL SECURITY;
ALTER TABLE likes ENABLE ROW LEVEL SECURITY;
ALTER TABLE comments ENABLE ROW LEVEL SECURITY;

-- ì˜ˆì‹œ: í”„ë¡œí•„ ì •ì±…
CREATE POLICY "Public profiles are viewable by everyone"
ON profiles FOR SELECT USING (true);

CREATE POLICY "Users can update own profile"
ON profiles FOR UPDATE USING (auth.uid() = id);
```

---

## ğŸ“¦ íŒ¨í‚¤ì§€ ì„¤ì¹˜

### Python (ë°±ì—”ë“œ)

```bash
pip install fastapi uvicorn ytmusicapi supabase python-dotenv redis slowapi
```

### Node.js (í”„ë¡ íŠ¸ì—”ë“œ)

```bash
npm create vite@latest frontend -- --template react
cd frontend
npm install
npm install @supabase/supabase-js axios react-router-dom @tanstack/react-query tailwindcss
```

---

## âœ… ìµœì¢… ì²´í¬ë¦¬ìŠ¤íŠ¸

```
[ ] ë¡œì»¬ í™˜ê²½
    [ ] Python 3.10+ ì„¤ì¹˜ í™•ì¸
    [ ] Node.js 18+ ì„¤ì¹˜ í™•ì¸
    [ ] Git ì„¤ì¹˜ í™•ì¸

[ ] ê³„ì • ìƒì„±
    [ ] GitHub ê³„ì •
    [ ] Supabase ê³„ì • + í”„ë¡œì íŠ¸
    [ ] Vercel ê³„ì • (GitHub ì—°ë™)
    [ ] Railway/Fly.io ê³„ì •

[ ] Supabase ì„¤ì •
    [ ] í”„ë¡œì íŠ¸ ìƒì„±
    [ ] í…Œì´ë¸” ìƒì„± ì™„ë£Œ
    [ ] RLS ì •ì±… ì„¤ì •
    [ ] API í‚¤ ë³µì‚¬

[ ] í™˜ê²½ë³€ìˆ˜ ì„¤ì •
    [ ] .env.local íŒŒì¼ ìƒì„±
    [ ] .gitignoreì— .env* ì¶”ê°€

[ ] í”„ë¡œì íŠ¸ ì´ˆê¸°í™”
    [ ] Git ì €ì¥ì†Œ ìƒì„±
    [ ] ë°±ì—”ë“œ í´ë” êµ¬ì¡° ìƒì„±
    [ ] í”„ë¡ íŠ¸ì—”ë“œ Vite í”„ë¡œì íŠ¸ ìƒì„±
```
